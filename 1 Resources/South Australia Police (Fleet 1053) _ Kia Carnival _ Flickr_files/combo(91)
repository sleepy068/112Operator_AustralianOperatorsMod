YUI.add("hermes-template-tags-search",(function(e,a){var r=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,r,t,n){var l,s=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="tags-search-container">\n\t<svg class="icon-search"><use xlink:href="#icon-search"></use></svg>\n\t<input type="text" class="add-person" placeholder="'+e.escapeExpression("function"==typeof(l=null!=(l=s(r,"placeholderText")||(null!=a?s(a,"placeholderText"):a))?l:e.hooks.helperMissing)?l.call(null!=a?a:e.nullContext||{},{name:"placeholderText",hash:{},data:n,loc:{start:{line:7,column:52},end:{line:7,column:71}}}):l)+'">\n</div>\n'},useData:!0}),t={};e.Array.each([],(function(a){var r=e.Template.get("hermes/"+a);r&&(t[a]=r)})),e.Template.register("hermes/tags-search",(function(a,n){return(n=n||{}).partials=n.partials?e.merge(t,n.partials):t,r(a,n)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-tags-confirm-actions",(function(e,n){var t=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,n,t,a,l){var r,s=null!=n?n:e.nullContext||{},o=e.hooks.helperMissing,i="function",u=e.escapeExpression,c=e.lookupProperty||function(e,n){if(Object.prototype.hasOwnProperty.call(e,n))return e[n]};return'<div class="tags-confirm-actions">\n\t<a href="'+u(typeof(r=null!=(r=c(t,"url")||(null!=n?c(n,"url"):n))?r:o)===i?r.call(s,{name:"url",hash:{},data:l,loc:{start:{line:6,column:10},end:{line:6,column:17}}}):r)+'">'+u(typeof(r=null!=(r=c(t,"urlText")||(null!=n?c(n,"urlText"):n))?r:o)===i?r.call(s,{name:"urlText",hash:{},data:l,loc:{start:{line:6,column:19},end:{line:6,column:30}}}):r)+'</a>\n\t<button class="butt confirm-button">'+u((c(t,"intlMessage")||n&&c(n,"intlMessage")||o).call(s,{name:"intlMessage",hash:{intlName:"common.DONE"},data:l,loc:{start:{line:7,column:37},end:{line:7,column:75}}}))+"</button>\n</div>\n"},useData:!0}),a={};e.Array.each([],(function(n){var t=e.Template.get("hermes/"+n);t&&(a[n]=t)})),e.Template.register("hermes/tags-confirm-actions",(function(n,l){return(l=l||{}).partials=l.partials?e.merge(a,l.partials):a,t(n,l)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-sub-photo-tagging-modal",(function(e,a){var t=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,t,l,n){var r,s=null!=a?a:e.nullContext||{},o=e.hooks.helperMissing,i=e.escapeExpression,c=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="sub-photo-tagging-modal">\n\t'+i((c(t,"outlet")||a&&c(a,"outlet")||o).call(s,null!=a?c(a,"basic-closeable-header-view"):a,{name:"outlet",hash:{},data:n,loc:{start:{line:6,column:1},end:{line:6,column:39}}}))+'\n\t<div class="message-container">\n'+(null!=(r=e.invokePartial(c(l,"tags-search"),a,{name:"tags-search",hash:{placeholderText:null!=a?c(a,"placeholderText"):a},data:n,indent:"\t\t",helpers:t,partials:l,decorators:e.decorators}))?r:"")+"\t\t"+i((c(t,"outlet")||a&&c(a,"outlet")||o).call(s,null!=a?c(a,"tags-selection-list-view"):a,{name:"outlet",hash:{},data:n,loc:{start:{line:9,column:2},end:{line:9,column:37}}}))+"\n\t</div>\n"+(null!=(r=e.invokePartial(c(l,"tags-confirm-actions"),a,{name:"tags-confirm-actions",hash:{urlText:null!=a?c(a,"urlText"):a,url:null!=a?c(a,"url"):a},data:n,indent:"\t",helpers:t,partials:l,decorators:e.decorators}))?r:"")+"</div>"},usePartial:!0,useData:!0}),l={};e.Array.each(["tags-search","tags-confirm-actions"],(function(a){var t=e.Template.get("hermes/"+a);t&&(l[a]=t)})),e.Template.register("hermes/sub-photo-tagging-modal",(function(a,n){return(n=n||{}).partials=n.partials?e.merge(l,n.partials):l,t(a,n)}))}),"@VERSION@",{requires:["template-base","handlebars-base","hermes-template-tags-search","hermes-template-tags-confirm-actions"]});YUI.add("sub-photo-add-tags-view",(function(e,i){require("hermes-core/flog")(i);e.FlickrView.create(this.name,e.FlickrView,[],{langBundles:this.details.langBundles,initializer:function(e){return this.params=e,this.subviewConfig["basic-closeable-header-view"]=Object.assign(this.subviewConfig["basic-closeable-header-view"],{title:e.title,showCloseXButton:e.showCloseXButton,onClose:this.handleCloseClick.bind(this)}),this.subviewConfig["tags-selection-list-view"]=Object.assign(this.subviewConfig["tags-selection-list-view"],{selectionLists:e.selectionLists,onSelectionChanged:e.onSelectionChanged}),this.onSelectionChanged=void 0!==e.onSelectionChanged?e.onSelectionChanged:async e=>{},this.onConfirm=void 0!==e.onConfirm?e.onConfirm:async e=>{},this},subviewConfig:{"basic-closeable-header-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1},"tags-selection-list-view":{requiredToShowOnClient:!0,requiredToShowOnServer:!1}},loadState:function(){return Promise.resolve()},buildContainer:function(){return this.setContainerWithTemplate("sub-photo-tagging-modal",this.params),this},activate:function(){var e=this.get("container").one(".confirm-button");return e&&this.registerEventHandler(e.on("click",this.handleConfirm.bind(this))),this},handleCloseClick:function(e){this.fire("readyToClose")},handleConfirm:async function(e){try{await this.onConfirm(e)}catch(e){return}}})}),"@VERSION@",{requires:["flickr-view","hermes-template-sub-photo-tagging-modal"],langBundles:["common"]});YUI.add("hermes-template-sub-photo-tags-tag-section",(function(n,t){var l=n.Template.Handlebars.revive({1:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(l,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"isResponsiveMobilePhotoPage"):t,{name:"if",hash:{},fn:n.program(2,e,0),inverse:n.program(7,e,0),data:e,loc:{start:{line:2,column:1},end:{line:10,column:8}}}))?o:""},2:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(l,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"tagsContainerIsEmpty"):t,{name:"if",hash:{},fn:n.program(3,e,0),inverse:n.program(5,e,0),data:e,loc:{start:{line:3,column:2},end:{line:7,column:9}}}))?o:""},3:function(n,t,l,a,e){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<a href="#" class="show-add-tags">'+n.escapeExpression((o(l,"intlMessage")||t&&o(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADD_TAGS"},data:e,loc:{start:{line:4,column:38},end:{line:4,column:92}}}))+"</a>\n"},5:function(n,t,l,a,e){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<a href="#" class="show-add-tags">'+n.escapeExpression((o(l,"intlMessage")||t&&o(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.EDIT_TAGS"},data:e,loc:{start:{line:6,column:38},end:{line:6,column:93}}}))+"</a>\n"},7:function(n,t,l,a,e){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t<a href="#" class="show-add-tags">'+n.escapeExpression((o(l,"intlMessage")||t&&o(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADD_TAGS"},data:e,loc:{start:{line:9,column:36},end:{line:9,column:90}}}))+"</a>\n"},9:function(n,t,l,a,e){var o,r=null!=t?t:n.nullContext||{},u=n.hooks.helperMissing,i=n.escapeExpression,s=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t<a class="tag-section-header" href="'+i("function"==typeof(o=null!=(o=s(l,"tagPageURL")||(null!=t?s(t,"tagPageURL"):t))?o:u)?o.call(r,{name:"tagPageURL",hash:{},data:e,loc:{start:{line:14,column:37},end:{line:14,column:51}}}):o)+'">'+i((s(l,"intlMessage")||t&&s(t,"intlMessage")||u).call(r,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.TAGS"},data:e,loc:{start:{line:14,column:53},end:{line:14,column:103}}}))+"</a>\n"},11:function(n,t,l,a,e){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t<h3 class="tag-section-header">'+n.escapeExpression((o(l,"intlMessage")||t&&o(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.TAGS"},data:e,loc:{start:{line:16,column:32},end:{line:16,column:82}}}))+"</h3>\n"},13:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(l,"unless").call(null!=t?t:n.nullContext||{},null!=t?r(t,"isMobile"):t,{name:"unless",hash:{},fn:n.program(14,e,0),inverse:n.noop,data:e,loc:{start:{line:20,column:1},end:{line:24,column:12}}}))?o:""},14:function(n,t,l,a,e){return'\t\t<span class="autotags-helper">\n\t\t\t<i class="autotags-helper-icon"></i>\n\t\t</span>\n'},16:function(n,t,l,a,e){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<input type="text" class= "add-tag" placeholder="'+n.escapeExpression((o(l,"intlMessage")||t&&o(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"photo-page-scrappy.ADD_A_TAG"},data:e,loc:{start:{line:30,column:52},end:{line:30,column:107}}}))+'">\n'},18:function(n,t,l,a,e){var o,r,u=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t<li data-author="'+c(typeof(r=null!=(r=p(l,"tagAuthorNSID")||(null!=t?p(t,"tagAuthorNSID"):t))?r:i)===s?r.call(u,{name:"tagAuthorNSID",hash:{},data:e,loc:{start:{line:33,column:20},end:{line:33,column:37}}}):r)+'" data-tag-id="'+c(typeof(r=null!=(r=p(l,"id")||(null!=t?p(t,"id"):t))?r:i)===s?r.call(u,{name:"id",hash:{},data:e,loc:{start:{line:33,column:52},end:{line:33,column:58}}}):r)+'" class="tag '+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"isResponsiveMobilePhotoPage"),{name:"if",hash:{},fn:n.noop,inverse:n.program(19,e,0),data:e,loc:{start:{line:33,column:71},end:{line:33,column:212}}}))?o:"")+'" '+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"autotagsEnabled"),{name:"if",hash:{},fn:n.program(22,e,0),inverse:n.noop,data:e,loc:{start:{line:33,column:214},end:{line:33,column:323}}}))?o:"")+' data-track="tagClick">\n\t\t\t\t<a class="'+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"autotagsEnabled"),{name:"if",hash:{},fn:n.program(25,e,0),inverse:n.program(28,e,0),data:e,loc:{start:{line:34,column:14},end:{line:34,column:134}}}))?o:"")+'" href="#">\n\t\t\t\t\t<i class="'+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"autotagsEnabled"),{name:"if",hash:{},fn:n.program(30,e,0),inverse:n.program(33,e,0),data:e,loc:{start:{line:35,column:15},end:{line:35,column:135}}}))?o:"")+'" title="'+c((p(l,"intlMessage")||t&&p(t,"intlMessage")||i).call(u,{name:"intlMessage",hash:{intlName:"common.DELETE"},data:e,loc:{start:{line:35,column:144},end:{line:35,column:184}}}))+'"></i>\n\t\t\t\t</a>\n\t\t\t\t<a href="'+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"linkTagToTagsPage"),{name:"if",hash:{},fn:n.program(35,e,0),inverse:n.program(37,e,0),data:e,loc:{start:{line:37,column:13},end:{line:37,column:79}}}))?o:"")+'" title="'+c(typeof(r=null!=(r=p(l,"tagRaw")||(null!=t?p(t,"tagRaw"):t))?r:i)===s?r.call(u,{name:"tagRaw",hash:{},data:e,loc:{start:{line:37,column:88},end:{line:37,column:98}}}):r)+'">'+c(typeof(r=null!=(r=p(l,"tagRaw")||(null!=t?p(t,"tagRaw"):t))?r:i)===s?r.call(u,{name:"tagRaw",hash:{},data:e,loc:{start:{line:37,column:100},end:{line:37,column:110}}}):r)+"</a>\n\t\t\t</li>\n"},19:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=(r(l,"canRemoveTag")||t&&r(t,"canRemoveTag")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},null!=t?r(t,"tagAuthorNSID"):t,(o=e&&r(e,"root"))&&r(o,"viewerNSID"),(o=e&&r(e,"root"))&&r(o,"isOwner"),{name:"canRemoveTag",hash:{},fn:n.program(20,e,0),inverse:n.noop,data:e,loc:{start:{line:33,column:112},end:{line:33,column:205}}}))?o:""},20:function(n,t,l,a,e){return"can-remove-tag"},22:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(l,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"duplicateAutotagId"):t,{name:"if",hash:{},fn:n.program(23,e,0),inverse:n.noop,data:e,loc:{start:{line:33,column:243},end:{line:33,column:316}}}))?o:""},23:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'data-autotag-id="'+n.escapeExpression("function"==typeof(o=null!=(o=r(l,"duplicateAutotagId")||(null!=t?r(t,"duplicateAutotagId"):t))?o:n.hooks.helperMissing)?o.call(null!=t?t:n.nullContext||{},{name:"duplicateAutotagId",hash:{},data:e,loc:{start:{line:33,column:286},end:{line:33,column:308}}}):o)+'"'},25:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(l,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"duplicateAutotagId"):t,{name:"if",hash:{},fn:n.program(26,e,0),inverse:n.program(28,e,0),data:e,loc:{start:{line:34,column:43},end:{line:34,column:109}}}))?o:""},26:function(n,t,l,a,e){return"remove-dual-tag"},28:function(n,t,l,a,e){return"remove-tag"},30:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(l,"if").call(null!=t?t:n.nullContext||{},null!=t?r(t,"duplicateAutotagId"):t,{name:"if",hash:{},fn:n.program(31,e,0),inverse:n.program(33,e,0),data:e,loc:{start:{line:35,column:44},end:{line:35,column:110}}}))?o:""},31:function(n,t,l,a,e){return"delete-dual-tag"},33:function(n,t,l,a,e){return"delete-tag"},35:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return n.escapeExpression("function"==typeof(o=null!=(o=r(l,"url")||(null!=t?r(t,"url"):t))?o:n.hooks.helperMissing)?o.call(null!=t?t:n.nullContext||{},{name:"url",hash:{},data:e,loc:{start:{line:37,column:44},end:{line:37,column:51}}}):o)},37:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return n.escapeExpression("function"==typeof(o=null!=(o=r(l,"searchUrl")||(null!=t?r(t,"searchUrl"):t))?o:n.hooks.helperMissing)?o.call(null!=t?t:n.nullContext||{},{name:"searchUrl",hash:{},data:e,loc:{start:{line:37,column:59},end:{line:37,column:72}}}):o)},39:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return null!=(o=r(l,"each").call(null!=t?t:n.nullContext||{},null!=t?r(t,"autotags"):t,{name:"each",hash:{},fn:n.program(40,e,0),inverse:n.noop,data:e,loc:{start:{line:41,column:3},end:{line:55,column:12}}}))?o:""},40:function(n,t,l,a,e){var o,r,u=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<li class="autotag '+(null!=(o=p(l,"if").call(u,null!=t?p(t,"isPrivate"):t,{name:"if",hash:{},fn:n.program(41,e,0),inverse:n.noop,data:e,loc:{start:{line:42,column:23},end:{line:42,column:54}}}))?o:"")+" "+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"viewerIsOwner"),{name:"if",hash:{},fn:n.program(20,e,0),inverse:n.noop,data:e,loc:{start:{line:42,column:55},end:{line:42,column:103}}}))?o:"")+'" data-autotag-content="'+c(typeof(r=null!=(r=p(l,"autotagValue")||(null!=t?p(t,"autotagValue"):t))?r:i)===s?r.call(u,{name:"autotagValue",hash:{},data:e,loc:{start:{line:42,column:127},end:{line:42,column:143}}}):r)+'" data-autotag-id="'+c(typeof(r=null!=(r=p(l,"id")||(null!=t?p(t,"id"):t))?r:i)===s?r.call(u,{name:"id",hash:{},data:e,loc:{start:{line:42,column:162},end:{line:42,column:168}}}):r)+'" data-track="autotagClick">\n'+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"viewerIsOwner"),{name:"if",hash:{},fn:n.program(43,e,0),inverse:n.noop,data:e,loc:{start:{line:43,column:5},end:{line:47,column:12}}}))?o:"")+(null!=(o=p(l,"if").call(u,null!=t?p(t,"isPrivate"):t,{name:"if",hash:{},fn:n.program(45,e,0),inverse:n.noop,data:e,loc:{start:{line:48,column:5},end:{line:52,column:12}}}))?o:"")+'\t\t\t\t\t<a href="'+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"linkTagToTagsPage"),{name:"if",hash:{},fn:n.program(47,e,0),inverse:n.program(37,e,0),data:e,loc:{start:{line:53,column:14},end:{line:53,column:109}}}))?o:"")+'" title="'+c(typeof(r=null!=(r=p(l,"autotagValue")||(null!=t?p(t,"autotagValue"):t))?r:i)===s?r.call(u,{name:"autotagValue",hash:{},data:e,loc:{start:{line:53,column:118},end:{line:53,column:134}}}):r)+'">'+c(typeof(r=null!=(r=p(l,"autotagValue")||(null!=t?p(t,"autotagValue"):t))?r:i)===s?r.call(u,{name:"autotagValue",hash:{},data:e,loc:{start:{line:53,column:136},end:{line:53,column:152}}}):r)+"</a>\n\t\t\t\t</li>\n"},41:function(n,t,l,a,e){return"private"},43:function(n,t,l,a,e){var o=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t\t<span class="remove-autotag">\n\t\t\t\t\t\t\t<i class="delete-autotag" title="'+n.escapeExpression((o(l,"intlMessage")||t&&o(t,"intlMessage")||n.hooks.helperMissing).call(null!=t?t:n.nullContext||{},{name:"intlMessage",hash:{intlName:"common.DELETE"},data:e,loc:{start:{line:45,column:40},end:{line:45,column:80}}}))+'"></i>\n\t\t\t\t\t\t</span>\n'},45:function(n,t,l,a,e){var o,r=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t\t\t<span class="private-autotag">\n\t\t\t\t\t\t\t<i class="private-autotag-icon" title="'+n.escapeExpression(n.lambda((o=e&&r(e,"root"))&&r(o,"privateAutotagHelperText"),t))+'"></i>\n\t\t\t\t\t\t</span>\n'},47:function(n,t,l,a,e){var o,r,u=n.escapeExpression,i=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return u(n.lambda((o=e&&i(e,"root"))&&i(o,"tagPageURL"),t))+u("function"==typeof(r=null!=(r=i(l,"autotagValue")||(null!=t?i(t,"autotagValue"):t))?r:n.hooks.helperMissing)?r.call(null!=t?t:n.nullContext||{},{name:"autotagValue",hash:{},data:e,loc:{start:{line:53,column:65},end:{line:53,column:81}}}):r)},49:function(n,t,l,a,e){var o,r,u=null!=t?t:n.nullContext||{},i=n.hooks.helperMissing,s="function",c=n.escapeExpression,p=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return'\t\t\t\t<li data-author="'+c(typeof(r=null!=(r=p(l,"tagAuthorNSID")||(null!=t?p(t,"tagAuthorNSID"):t))?r:i)===s?r.call(u,{name:"tagAuthorNSID",hash:{},data:e,loc:{start:{line:62,column:21},end:{line:62,column:38}}}):r)+'" data-tag-id="'+c(typeof(r=null!=(r=p(l,"id")||(null!=t?p(t,"id"):t))?r:i)===s?r.call(u,{name:"id",hash:{},data:e,loc:{start:{line:62,column:53},end:{line:62,column:59}}}):r)+'" class="tag '+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"isResponsiveMobilePhotoPage"),{name:"if",hash:{},fn:n.noop,inverse:n.program(19,e,0),data:e,loc:{start:{line:62,column:72},end:{line:62,column:213}}}))?o:"")+'" data-track="tagClick">\n\t\t\t\t\t<a class="remove-tag" href="#">\n\t\t\t\t\t\t<i class="delete-tag" title="'+c((p(l,"intlMessage")||t&&p(t,"intlMessage")||i).call(u,{name:"intlMessage",hash:{intlName:"common.DELETE"},data:e,loc:{start:{line:64,column:35},end:{line:64,column:75}}}))+'"></i>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a href="'+(null!=(o=p(l,"if").call(u,(o=e&&p(e,"root"))&&p(o,"linkTagToTagsPage"),{name:"if",hash:{},fn:n.program(35,e,0),inverse:n.program(37,e,0),data:e,loc:{start:{line:66,column:14},end:{line:66,column:80}}}))?o:"")+'" title="'+c(typeof(r=null!=(r=p(l,"tagRaw")||(null!=t?p(t,"tagRaw"):t))?r:i)===s?r.call(u,{name:"tagRaw",hash:{},data:e,loc:{start:{line:66,column:89},end:{line:66,column:99}}}):r)+'">'+c(typeof(r=null!=(r=p(l,"tagRaw")||(null!=t?p(t,"tagRaw"):t))?r:i)===s?r.call(u,{name:"tagRaw",hash:{},data:e,loc:{start:{line:66,column:101},end:{line:66,column:111}}}):r)+"</a>\n\t\t\t\t</li>\n"},compiler:[8,">= 4.3.0"],main:function(n,t,l,a,e){var o,r=null!=t?t:n.nullContext||{},u=n.lookupProperty||function(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]};return(null!=(o=u(l,"if").call(r,null!=t?u(t,"canAddMeta"):t,{name:"if",hash:{},fn:n.program(1,e,0),inverse:n.noop,data:e,loc:{start:{line:1,column:0},end:{line:11,column:7}}}))?o:"")+"\n"+(null!=(o=u(l,"if").call(r,null!=t?u(t,"linkTagToTagsPage"):t,{name:"if",hash:{},fn:n.program(9,e,0),inverse:n.program(11,e,0),data:e,loc:{start:{line:13,column:0},end:{line:17,column:7}}}))?o:"")+"\n"+(null!=(o=u(l,"if").call(r,null!=t?u(t,"showTagInfoBlock"):t,{name:"if",hash:{},fn:n.program(13,e,0),inverse:n.noop,data:e,loc:{start:{line:19,column:0},end:{line:25,column:7}}}))?o:"")+'\n<div class="tags-list-container">\n\t<ul class="tags-list">\n'+(null!=(o=u(l,"if").call(r,null!=t?u(t,"canAddMeta"):t,{name:"if",hash:{},fn:n.program(16,e,0),inverse:n.noop,data:e,loc:{start:{line:29,column:2},end:{line:31,column:9}}}))?o:"")+(null!=(o=u(l,"each").call(r,null!=t?u(t,"tags"):t,{name:"each",hash:{},fn:n.program(18,e,0),inverse:n.noop,data:e,loc:{start:{line:32,column:2},end:{line:39,column:11}}}))?o:"")+(null!=(o=u(l,"if").call(r,null!=t?u(t,"autotagsEnabled"):t,{name:"if",hash:{},fn:n.program(39,e,0),inverse:n.noop,data:e,loc:{start:{line:40,column:2},end:{line:56,column:9}}}))?o:"")+'\t</ul>\n\n\t<div class="machine-tags-section">\n\t\t<ul class="machine-tags-list">\n'+(null!=(o=u(l,"each").call(r,null!=t?u(t,"machineTags"):t,{name:"each",hash:{},fn:n.program(49,e,0),inverse:n.noop,data:e,loc:{start:{line:61,column:3},end:{line:68,column:12}}}))?o:"")+"\t\t</ul>\n\t</div>\n</div>\n"},useData:!0}),a={};n.Array.each([],(function(t){var l=n.Template.get("hermes/"+t);l&&(a[t]=l)})),n.Template.register("hermes/sub-photo-tags-tag-section",(function(t,e){return(e=e||{}).partials=e.partials?n.merge(a,e.partials):a,l(t,e)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-sub-photo-tags-tag",(function(a,n){var l=a.Template.Handlebars.revive({1:function(a,n,l,e,t){var o,r,c=null!=n?n:a.nullContext||{},i=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return(null!=(o=i(l,"if").call(c,null!=n?i(n,"isNewTag"):n,{name:"if",hash:{},fn:a.program(2,t,0),inverse:a.program(5,t,0),data:t,loc:{start:{line:2,column:1},end:{line:6,column:8}}}))?o:"")+'\t\t\t<div class="tag-content">\n\t\t\t\t<svg class="icon-tag"><use xlink:href="#icon-tag"></use></svg>\n\t\t\t\t<p>'+a.escapeExpression("function"==typeof(r=null!=(r=i(l,"tagRaw")||(null!=n?i(n,"tagRaw"):n))?r:a.hooks.helperMissing)?r.call(c,{name:"tagRaw",hash:{},data:t,loc:{start:{line:9,column:7},end:{line:9,column:17}}}):r)+"</p>\n\t\t\t</div>\n"+(null!=(o=i(l,"if").call(c,null!=n?i(n,"isNewTag"):n,{name:"if",hash:{},fn:a.program(8,t,0),inverse:a.program(10,t,0),data:t,loc:{start:{line:11,column:3},end:{line:15,column:10}}}))?o:"")+"\t\t</li>\n"},2:function(a,n,l,e,t){var o,r,c=null!=n?n:a.nullContext||{},i=a.hooks.helperMissing,u="function",s=a.escapeExpression,g=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return'\t\t<li data-value="'+s(typeof(r=null!=(r=g(l,"tagRaw")||(null!=n?g(n,"tagRaw"):n))?r:i)===u?r.call(c,{name:"tagRaw",hash:{},data:t,loc:{start:{line:3,column:18},end:{line:3,column:28}}}):r)+'" data-tag-id="'+s(typeof(r=null!=(r=g(l,"escapedTagRaw")||(null!=n?g(n,"escapedTagRaw"):n))?r:i)===u?r.call(c,{name:"escapedTagRaw",hash:{},data:t,loc:{start:{line:3,column:43},end:{line:3,column:60}}}):r)+'" '+(null!=(o=g(l,"if").call(c,null!=n?g(n,"mightExist"):n,{name:"if",hash:{},fn:a.program(3,t,0),inverse:a.noop,data:t,loc:{start:{line:3,column:62},end:{line:3,column:114}}}))?o:"")+' class="tag remove-tag can-remove-tag" data-validated="false" data-track="tagClick">\n'},3:function(a,n,l,e,t){return'data-tag-might-exist="true"'},5:function(a,n,l,e,t){var o,r,c=null!=n?n:a.nullContext||{},i=a.hooks.helperMissing,u="function",s=a.escapeExpression,g=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return'\t\t<li data-value="'+s(typeof(r=null!=(r=g(l,"tagRaw")||(null!=n?g(n,"tagRaw"):n))?r:i)===u?r.call(c,{name:"tagRaw",hash:{},data:t,loc:{start:{line:5,column:18},end:{line:5,column:28}}}):r)+'" data-author="'+s(typeof(r=null!=(r=g(l,"tagAuthorNSID")||(null!=n?g(n,"tagAuthorNSID"):n))?r:i)===u?r.call(c,{name:"tagAuthorNSID",hash:{},data:t,loc:{start:{line:5,column:43},end:{line:5,column:60}}}):r)+'" data-tag-id="'+s(typeof(r=null!=(r=g(l,"id")||(null!=n?g(n,"id"):n))?r:i)===u?r.call(c,{name:"id",hash:{},data:t,loc:{start:{line:5,column:75},end:{line:5,column:81}}}):r)+'" class="tag remove-tag '+(null!=(o=(g(l,"canRemoveTag")||n&&g(n,"canRemoveTag")||i).call(c,null!=n?g(n,"tagAuthorNSID"):n,(o=t&&g(t,"root"))&&g(o,"viewerNSID"),(o=t&&g(t,"root"))&&g(o,"isOwner"),{name:"canRemoveTag",hash:{},fn:a.program(6,t,0),inverse:a.noop,data:t,loc:{start:{line:5,column:105},end:{line:5,column:198}}}))?o:"")+'" data-track="tagClick">\n'},6:function(a,n,l,e,t){return"can-remove-tag"},8:function(a,n,l,e,t){return'\t\t\t\t<svg class="icon icon-check_circle can-remove-tag"><use xlink:href="#icon-check_circle"></use></svg>\n'},10:function(a,n,l,e,t){var o,r=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return'\t\t\t\t<svg class="icon icon-check_circle '+(null!=(o=(r(l,"canRemoveTag")||n&&r(n,"canRemoveTag")||a.hooks.helperMissing).call(null!=n?n:a.nullContext||{},null!=n?r(n,"tagAuthorNSID"):n,(o=t&&r(t,"root"))&&r(o,"viewerNSID"),(o=t&&r(t,"root"))&&r(o,"isOwner"),{name:"canRemoveTag",hash:{},fn:a.program(6,t,0),inverse:a.noop,data:t,loc:{start:{line:14,column:39},end:{line:14,column:132}}}))?o:"")+'"><use xlink:href="#icon-check_circle"></use></svg>\n'},12:function(a,n,l,e,t){var o,r,c=null!=n?n:a.nullContext||{},i=a.hooks.helperMissing,u="function",s=a.escapeExpression,g=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return'\t<li data-tag-id="'+s(typeof(r=null!=(r=g(l,"escapedTagRaw")||(null!=n?g(n,"escapedTagRaw"):n))?r:i)===u?r.call(c,{name:"escapedTagRaw",hash:{},data:t,loc:{start:{line:18,column:18},end:{line:18,column:35}}}):r)+'" '+(null!=(o=g(l,"if").call(c,null!=n?g(n,"mightExist"):n,{name:"if",hash:{},fn:a.program(3,t,0),inverse:a.noop,data:t,loc:{start:{line:18,column:37},end:{line:18,column:89}}}))?o:"")+' class="tag" data-validated="false" data-track="tagClick">\n\t\t<a class="'+(null!=(o=g(l,"if").call(c,null!=n?g(n,"isDualTag"):n,{name:"if",hash:{},fn:a.program(13,t,0),inverse:a.program(15,t,0),data:t,loc:{start:{line:19,column:12},end:{line:19,column:69}}}))?o:"")+'" href="#">\n\t\t\t<i class="'+(null!=(o=g(l,"if").call(c,null!=n?g(n,"isDualTag"):n,{name:"if",hash:{},fn:a.program(17,t,0),inverse:a.program(19,t,0),data:t,loc:{start:{line:20,column:13},end:{line:20,column:70}}}))?o:"")+'" title="Delete"></i>\n\t\t</a>\n\t\t<a href="'+(null!=(o=g(l,"if").call(c,null!=n?g(n,"linkTagToTagsPage"):n,{name:"if",hash:{},fn:a.program(21,t,0),inverse:a.program(23,t,0),data:t,loc:{start:{line:22,column:11},end:{line:22,column:114}}}))?o:"")+'" title="'+s(typeof(r=null!=(r=g(l,"tagRaw")||(null!=n?g(n,"tagRaw"):n))?r:i)===u?r.call(c,{name:"tagRaw",hash:{},data:t,loc:{start:{line:22,column:123},end:{line:22,column:133}}}):r)+'">'+s(typeof(r=null!=(r=g(l,"tagRaw")||(null!=n?g(n,"tagRaw"):n))?r:i)===u?r.call(c,{name:"tagRaw",hash:{},data:t,loc:{start:{line:22,column:135},end:{line:22,column:145}}}):r)+"</a>\n\t</li>\n"},13:function(a,n,l,e,t){return"remove-dual-tag"},15:function(a,n,l,e,t){return"remove-tag"},17:function(a,n,l,e,t){return"delete-dual-tag"},19:function(a,n,l,e,t){return"delete-tag"},21:function(a,n,l,e,t){var o,r=null!=n?n:a.nullContext||{},c=a.hooks.helperMissing,i="function",u=a.escapeExpression,s=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return u(typeof(o=null!=(o=s(l,"tagPageURL")||(null!=n?s(n,"tagPageURL"):n))?o:c)===i?o.call(r,{name:"tagPageURL",hash:{},data:t,loc:{start:{line:22,column:36},end:{line:22,column:50}}}):o)+u(typeof(o=null!=(o=s(l,"tagWithoutSlashes")||(null!=n?s(n,"tagWithoutSlashes"):n))?o:c)===i?o.call(r,{name:"tagWithoutSlashes",hash:{},data:t,loc:{start:{line:22,column:50},end:{line:22,column:71}}}):o)},23:function(a,n,l,e,t){var o=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return a.escapeExpression((o(l,"getTagSearchUrl")||n&&o(n,"getTagSearchUrl")||a.hooks.helperMissing).call(null!=n?n:a.nullContext||{},null!=n?o(n,"tagValue"):n,{name:"getTagSearchUrl",hash:{},data:t,loc:{start:{line:22,column:79},end:{line:22,column:107}}}))},compiler:[8,">= 4.3.0"],main:function(a,n,l,e,t){var o,r=a.lookupProperty||function(a,n){if(Object.prototype.hasOwnProperty.call(a,n))return a[n]};return null!=(o=r(l,"if").call(null!=n?n:a.nullContext||{},null!=n?r(n,"isResponsiveMobilePhotoPage"):n,{name:"if",hash:{},fn:a.program(1,t,0),inverse:a.program(12,t,0),data:t,loc:{start:{line:1,column:0},end:{line:24,column:7}}}))?o:""},useData:!0}),e={};a.Array.each([],(function(n){var l=a.Template.get("hermes/"+n);l&&(e[n]=l)})),a.Template.register("hermes/sub-photo-tags-tag",(function(n,t){return(t=t||{}).partials=t.partials?a.merge(e,t.partials):e,l(n,t)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});YUI.add("hermes-template-tags-helper-text",(function(e,a){var t=e.Template.Handlebars.revive({compiler:[8,">= 4.3.0"],main:function(e,a,t,l,n){var s=null!=a?a:e.nullContext||{},r=e.hooks.helperMissing,i=e.escapeExpression,o=e.lookupProperty||function(e,a){if(Object.prototype.hasOwnProperty.call(e,a))return e[a]};return'<div class="tags-helper-text">\n\t'+i((o(t,"intlMessage")||a&&o(a,"intlMessage")||r).call(s,{name:"intlMessage",hash:{intlName:"photo-page-scrappy.TAGS_HELP_TEXT"},data:n,loc:{start:{line:2,column:1},end:{line:2,column:61}}}))+'\n</div>\n<a href="https://flickrhelp.com/hc/en-us/articles/4404058631700-Tag-keywords-in-Flickr" target="_blank">'+i((o(t,"intlMessage")||a&&o(a,"intlMessage")||r).call(s,{name:"intlMessage",hash:{intlName:"common.LEARN_MORE"},data:n,loc:{start:{line:4,column:104},end:{line:4,column:148}}}))+"</a>\n"},useData:!0}),l={};e.Array.each([],(function(a){var t=e.Template.get("hermes/"+a);t&&(l[a]=t)})),e.Template.register("hermes/tags-helper-text",(function(a,n){return(n=n||{}).partials=n.partials?e.merge(l,n.partials):l,t(a,n)}))}),"@VERSION@",{requires:["template-base","handlebars-base"]});