"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[55050],{46910:function(i,n,r){r.d(n,{H:function(){return t}});var e=r(93056),t=function(i){var n=i.priceType,r=i.price,t=i.currency;return i.activityTracking===e.nm&&n===e.vh?{priceAsAbsolute:{price:r,priceType:e.Br,currency:t}}:{}}},17806:function(i,n,r){r.d(n,{I:function(){return e}});var e=function(i){var n,r,e,t=i.subscription,c=null==t?void 0:null===(n=t.currentAllotments)||void 0===n?void 0:n.length;return null==t?void 0:null===(r=t.currentAllotments)||void 0===r?void 0:null===(e=r[c-1])||void 0===e?void 0:e.creditsRemaining}},57488:function(i,n,r){r.d(n,{r:function(){return t}});var e=r(17806),t=function(i){var n=i.subscription,r=(0,e.I)({subscription:n});return null===r||r>0}},25192:function(i,n,r){r.d(n,{q:function(){return e}});var e=function(i){var n,r,e=i.subscription;return!!((null==e?void 0:e.isUnlimited)||(null==e?void 0:null===(n=e.currentLicenses)||void 0===n?void 0:null===(r=n[0])||void 0===r?void 0:r.isUnlimited))}},99917:function(i,n,r){r.d(n,{I:function(){return e}});var e=function(i){var n=i.subscriptions,r=i.licenseName,e=r?null==n?void 0:n.filter(function(i){var n=i.redeemableFor;return(null==r?void 0:r.includes("_unlimited"))?n===r:n==="".concat(r,"_unlimited")}):n;return!!(null==e?void 0:e.some(function(i){var n=i.currentLicenses;return null==n?void 0:n.some(function(i){return i.isUnlimited})}))}},25917:function(i,n,r){r.d(n,{X:function(){return m}});var e,t=r(26042),c=r(99534),u=r(10253),o=r(93056),s=r(46910),l=r(3007),d=function(i){var n=i.currentLicense;return null!==(e=null==n?void 0:n.maxContentTier)&&void 0!==e?e:l.E2},p=r(70056),v=r(25192),a=r(29489),f=function(i){var n=i.subscription,r=i.assetTypeFromSubscription;return r===p.xF&&(0,v.q)({subscription:n})?"".concat(r).concat((0,a.ZV)(p.q9)):r},m=function(i){var n,r,e=i.subscription,l=e.creditPrice,p=e.creditType,v=e.creditCurrency,a=e.currentLicenses,m=e.redeemableFor,T=e.product,b=e.type,y=null!==(r=null!=v?v:null==a?void 0:null===(n=a[0])||void 0===n?void 0:n.currency)&&void 0!==r?r:null==T?void 0:T.currency,C=(null==a?void 0:a.find(function(i){return i.redeemableFor===m}))||{},Z=C.creditPriceComponents,g=(0,c.Z)(C,["creditPriceComponents"]),I=o.bW[b],k=o.iN[I];return Z&&k?Object.entries(Z.contentTier).reduce(function(i,n){var r,c,l=(0,u.Z)(n,2),d=l[0],p=l[1],v=p.amount,a=p.amountType,m=void 0===a?o.Zm:a,T=Number(d);return i.push((0,t.Z)({currency:y,subscriptionType:f({subscription:e,assetTypeFromSubscription:k[d]}),price:v,contentTier:T,priceType:m},(0,s.H)({priceType:null!==(r=e.creditType)&&void 0!==r?r:m,price:null!==(c=e.creditPrice)&&void 0!==c?c:v,currency:y,activityTracking:e.activityTracking}))),i},[]):[{subscriptionType:f({subscription:e,assetTypeFromSubscription:I}),currency:y,price:l,priceType:p||o.Zm,contentTier:d({currentLicense:g})}]}},55050:function(i,n,r){r.d(n,{$:function(){return g}});var e=r(26042),t=r(69396),c=r(70056),u=r(93056),o=r(36311),s=r(3007),l=function(i){var n=i.assetContentTier,r=i.subscriptionMaxContentTier,e=i.musicInfo,t=r>=n;if(null==e?void 0:e.isMusic){var c=e.isUnlimited,u=e.isUnlimitedSubscriptionAvailable;if(n>s.$H)return t&&!c;if(u)return c}return t},d=function(i){var n=i.subscriptions,r=i.contentTier,c=i.musicInfo;return(null==n?void 0:n.filter(function(i){var n=i.currentLicenses;return null==n?void 0:n.find(function(i){var n=i.maxContentTier,u=i.isUnlimited;return l({assetContentTier:r,subscriptionMaxContentTier:n,musicInfo:(0,t.Z)((0,e.Z)({},c),{isUnlimited:u})})})}))||[]},p=r(57488),v=r(99917),a=r(10253),f=r(46910),m=function(i,n){var r=n.split(".");return!!i&&(r.length>1?m(i[n.split(".")[0]],r.slice(1).join(".")):Object.prototype.hasOwnProperty.call(i,n))},T=function(i){var n,r,t,c=i.subscription,u=null===(n=c.currentLicenses[0].creditPriceComponents)||void 0===n?void 0:n.contentTier,o=(0,a.Z)(u?Object.entries(u)[0]:[{},{}],2)[1],s=o.amount,l=o.amountType;return(0,e.Z)({},!m(c,"creditPrice")&&{creditPrice:s},c,(0,f.H)({priceType:null!==(r=c.creditType)&&void 0!==r?r:l,price:null!==(t=c.creditPrice)&&void 0!==t?t:s,currency:c.creditCurrency,activityTracking:c.activityTracking}))},b=function(i){var n=i.prices,r=i.mediaContentTier;return(null==n?void 0:n.find(function(i){return i.contentTier>=r}))||{}},y=r(25917),C=function(i){var n=i.subscription,r=i.mediaContentTier,c=i.musicInfo,u=n.activityTracking,o=n.currentLicenses,s=n.creditPrice,d=n.creditType,p=b({prices:(0,y.X)({subscription:n}),mediaContentTier:r}),v=p.price,a=p.priceType,m=p.currency,T=o.filter(function(i){var n=i.maxContentTier,u=i.isUnlimited;return l({assetContentTier:r,subscriptionMaxContentTier:n,musicInfo:(0,t.Z)((0,e.Z)({},c),{isUnlimited:u})})});return(0,e.Z)((0,t.Z)((0,e.Z)({},n),{currentLicenses:T,creditPrice:v,creditType:a}),(0,f.H)({priceType:null!=d?d:a,price:s,currency:m,activityTracking:u}))},Z=function(i){var n=i.subscriptions,r=i.contentTier,t=i.musicInfo;return null==n?void 0:n.map(function(i){var n,c;return(null==i?void 0:null===(n=i.currentLicenses)||void 0===n?void 0:n.length)?r?C({subscription:i,mediaContentTier:r,musicInfo:t}):T({subscription:i}):(0,e.Z)({creditType:null!==(c=null==i?void 0:i.creditType)&&void 0!==c?c:u.Zm},i)})},g=function(i){var n,r,s,l,a=i.assetType,f=i.subscriptions,m=i.licenseName,T=i.contentTier,b=null===(n=null===(r=null==f?void 0:f.filter(function(i){var n=i.license,r=i.redeemableFor,e=i.name;return n===m||r===m||e===m}))||void 0===r?void 0:r.sort(function(i,n){return new Date(i.subscriptionExpiration).getTime()-new Date(n.subscriptionExpiration).getTime()}))||void 0===n?void 0:n.map(function(i){return(0,o.TR)({subscription:i,assetType:a})}),y=a===c.xF,C={isMusic:y,isUnlimitedSubscriptionAvailable:y&&(0,v.I)({subscriptions:f,licenseName:m})},g=T?d({subscriptions:b,contentTier:T,musicInfo:C}):b,I=Z({subscriptions:g,contentTier:T,musicInfo:C});return(null==g?void 0:g[0])&&(s=(0,t.Z)((0,e.Z)({},null==g?void 0:g[0]),{creditType:u.Zm})),(null==I?void 0:I.find(function(i){return(0,p.r)({subscription:i})}))||(null!==(l=null==I?void 0:I[0])&&void 0!==l?l:s)}}}]);
//# sourceMappingURL=55050-c08ed229fe84fcbc.js.map